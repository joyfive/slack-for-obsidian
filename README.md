# 🧾 PRD: 오늘의 SLIP

---

> **오늘의 SLIP, "오늘의 기쁨, 내일의 기쁨으로."**  
> 개인 워크스페이스에 단편적으로 기록한 오늘의 조각들을 모아, 확장 가능한 자산으로 만들기 위한 마크다운 추출기입니다.  
> 블로그 혹은 옵시디언에 활용할 수 있도록 .md 파일로 추출하는 것을 최종 목표로 하며, 슬랙의 봇이 접근 가능한 채널 내의 메시지를 설정 기간에 따라 불러오고, 선택한 메시지만 파일로 추출합니다.

---

## 🎯 Goals

### 📈 Business (혹은 개인 프로젝트) Goals

- 슬랙 메시지를 단순 복사 대신 구조화된 기록으로 정리하여 재활용성 확보
- 옵시디언 기반의 개인 지식 관리 흐름 정착
- 블로그 글쓰기까지 고려한 `.md` 포맷 자동화 → 글쓰기 허들 최소화
- 앱을 공개하여, 비슷한 목적을 가진 사용자들에게도 제공 가능

### 🙋‍♀️ User Goals

- 나만의 워크스페이스에서 개인적으로 남긴 메시지를 쉽게 불러와 기록화
- 채널/스레드 메시지를 구조적으로 `.md`로 내보내기
- 나중에 옵시디언에서 쉽게 열람 및 확장 가능하게 저장
- ios 단축어와 연계해, 메시지 저장→읽기→글쓰기 루틴을 자동화

### 🚫 Non-Goals

- 팀/조직 단위 메시지 추출
- 메시지 자동 저장 (항상 수동 선택 방식)
- 멀티 유저 기능, 공유 기능 등은 목표 아님  
  (멀티 유저 기능 확장 고려하고 있으나, MVP의 Goal과 무관)

---

## 👤 User Stories

1. "나는 오늘 하루 슬랙에서 남긴 짧은 생각들을 옵시디언으로 옮기고 싶다."
2. "특정 채널에서 남긴 메시지를 일주일치 모아서 하나의 메모로 저장하고 싶다."
3. "슬랙 스레드에서 한 토픽에 대해 나눈 이야기를 `.md`로 저장해서 나중에 블로그로 확장하고 싶다."

---

## 🧭 User Experience

### 0. 슬랙 세팅

- 슬랙 봇 토큰 발급 및 `env`에 저장
- 모든 퍼블릭 채널 접근 권한 부여 (`channels:read`, `history:read`, `users:read`, `conversations:replies`)

### 1. 로그인

- MVP 단계에서는 `env` 로 ID/PW 검증, 추후 DB / 외부 API 인증 체계 등 도입 검토
- 슬랙 워크스페이스 연동 확인

### 2. 홈 화면

- 기본 선택지:
  - [오늘의 기록] → 당일 날짜 기준 메시지 자동 필터링
  - [구간 기록] → 시작일 / 종료일 입력
- 선택 시 모달 팝업 실행

### 3. 기록 모달

#### 3.1 채널 리스트 출력 (API 1)

- 봇이 접근 가능한 모든 채널 표시
- 검색 및 필터 기능 (TO-BE)

#### 3.2 채널 선택 → 기간 내 메시지 출력 (API 2)

- 메시지는 타임스탬프 순 정렬
- 메시지 본문 + 발신자명 + timestamp 표시

#### 3.3 스레드 지원 (API 3)

- 스레드가 있는 메시지의 경우 → [댓글 n개 보기] 버튼 표시
- 클릭 시, 인라인으로 스레드 전체 메시지 출력

#### 3.4 메시지 선택 + 마크다운 변환

- 개별 메시지/스레드 선택 가능 (체크박스)
- 모달 하단 [.md로 추출] 버튼 클릭
  - 선택된 메시지를 Markdown 포맷으로 변환
  - 포맷 예시:
    yaml
    복사편집
    `## [채널명] by [사용자명] - YYYY-MM-DD HH:MM  > 메시지 본문   ---`

### 4. 추출 완료 후

- 파일 다운로드 or 내부 저장
- [md-for-obsidian] 버튼 클릭 시 → 단축어 실행

---

## 📖 Narrative

하루 동안 슬랙에서 흘려보낸 말들 중에는, 종종 깊이 있는 생각과 아이디어가 섞여 있다. 하지만 그것들은 기록되지 않고 사라진다.  
이 앱은 그러한 메시지들을 ‘기록’의 단계로 옮긴다.

클릭 몇 번으로, 사용자는 자신의 슬랙 메시지를 `.md` 파일로 저장하고, 옵시디언이라는 강력한 지식 툴로 가져와 확장 글쓰기를 할 수 있다.  
그리고 이 기록은 개인 블로그로 이어지고, 단상은 글이 된다.

이 웹앱은 단순히 슬랙 추출 툴이 아니다. 글쓰기 루틴을 설계하는 ‘기록 루프’의 시작점이다.

---

## 📊 Success Metrics

- 하루에 1회 이상 `.md` 추출 사용률 > 50%
- 한 달간 슬랙 → 옵시디언 전환 메시지 수 ≥ 100개
- ios 단축어 실행률 ≥ 70% (앱 내 기능 연동 성공률)
- 재방문 사용자 비율 > 40% (실제 루틴화 지표)

---

## ⚙️ Technical Considerations

- Slack Bot Token: `.env`에 저장, 서버 환경에서만 사용
- Login: MVP 버전에서는 `.env`에 저장, 서버에서 login 및 auth 검증
- API 호출: `conversations.list`, `conversations.history`, `conversations.replies`
- Markdown 포맷팅
  - 메시지/스레드 depth 구분
  - 시간 순 정렬
- 클라이언트: Next.js 기반 SPA
- 서버: Node.js (Next.js)
- 파일 다운로드: 브라우저에서 `.md` 포맷으로 직접 다운로드 처리
- ios 단축어: JS에서 `shortcuts://` 링크 실행으로 연계

---

## 🚀 Milestones & Sequencing

1. Slack API 연동 및 채널/메시지 추출 구현
2. 메시지 선택 모달 + Markdown 변환 기능 개발
3. iOS 단축어 연동 & 최종 저장 동작 구현
4. 디자인 다듬기 + 블로그 배포용 정리
